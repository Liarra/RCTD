var context="/RCTD";
var viewer_id;



function clickDonateButton(donateID) {
    //Clear screen and place loader
    clearSpace();
    //Request thankYou page
    loadDataAJAX("/thankyou?id="+donateID+"&viewer_id="+viewer_id);
    return false;
}

function clickBackButton(){
    clearSpace();
    uncheckAllMenuButtons();
    loadDataAJAX("/main"+"?viewer_id="+viewer_id);
    checkStartMenuButton();
}

function checkMainButton(){
    
}

function clickHelp(){
    clearSpace();
    uncheckAllMenuButtons();
    document.getElementById("helpMenuBtn").className="btn_checked";
    loadDataAJAX("/help");
}

function clickMenu(TypeID, buttonID){
    clearSpace();
    uncheckAllMenuButtons();
    document.getElementById(buttonID).className="btn_checked";
    loadDataAJAX("/main?id="+TypeID+"&viewer_id="+viewer_id);
}

function clickWelcome(){
    var a1=document.getElementById("dialog-overlay");
    a1.parentNode.removeChild(a1);
    var a2=document.getElementById("dialog-box");
    a2.parentNode.removeChild(a2);
}

function uncheckAllMenuButtons(){
    var menuContainer=document.getElementById("menucell");
    var children=menuContainer.childNodes;

    for(var i in children){
        children[i].className="btn_unchecked";
    }
     document.getElementById("helpMenuBtn").className="btn_unchecked";
}

function checkStartMenuButton(){
    var AllMenu=document.getElementById("menuAll");
    AllMenu.className="btn_checked";
}

function clearSpace() {
     document.getElementById("content").innerHTML="<i class='icon-spinner icon-spin'></i>";
}

function loadDataAJAX(servletpath) {
    var xmlhttp=getAJAXSender();
    xmlhttp.open("GET", context+servletpath, true);
    xmlhttp.send();

}

function getAJAXSender(){
  var xmlhttp;
    if (window.XMLHttpRequest)
    {// code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    }
    else
    {// code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange = function()
    {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
        {
            document.getElementById("content").innerHTML = xmlhttp.responseText;
            //var fu=new Function(document.getElementById("adscript").innerHTML);
            //fu();
//             document.getElementById("contentd").className="";
        }
    }

    return xmlhttp;
}

function initScript(){
var prmstr = window.location.search.substr(1);
var prmarr = prmstr.split ("&");
var params = {};

for ( var i = 0; i < prmarr.length; i++) {
    var tmparr = prmarr[i].split("=");
    params[tmparr[0]] = tmparr[1];
}

    setViewerId(params["viewer_id"]);
}

function setViewerId(vid){
    viewer_id=vid;
}

initScript();